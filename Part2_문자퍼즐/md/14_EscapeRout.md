# 14번째 퍼즐 - 이스케이프 문자

```{.java}
public class EscapeRout {
	public static void main(String args[]) {
		// \u0022는 유니코드 이스케이프 시퀀스로 큰 따옴표(")를 나타낸다.
		System.out.println("a\u0022.length() + \u0022b".length());
	}
}
```

매우 간단한 코드같다. 그래서 함정의 냄새가 더 진동한다. 우선 문자열 전체의 길이를 직접 새어보니 26이다. 

이걸 순진하게 믿지 않기 위해  \u0022가 "이 된다는 것을 응용해 12글자가 2글자가 된다고 가정하면 16자가 되니깐 16을 출력할 것으로 예측했다.

항상 느끼지만 이렇게 예측해도 결과와는 항상 큰 차이가 있는 것 같다. 실제 출력되는 값은 2이다. 전자의 예측도 틀렸고, 후자의 예측도 틀렸다.

이번 문제는 유니코드 이스케이프 시퀀스가 갖는 특수성에서 기인한다. \u0022는 "이 된다. 하지만 그 시점이 우리의 예측과는 다르다. 
자바코드가 컴파일 될 때 실제 코드를 분석하기 전에 모든 유니코드에 대해 변환을 수행한다.

따라서 컴파일러는 출력문을 System.out.println("a".length() + "b".length()); 와 같이 인식하게 되어 2를 출력하게 되는 것이다.

유니코드는 아스키코드로 표현할 수 없는 문자를 표현하기 위해 등장했다. 하지만 오늘날에는 UTF-8과 같은 인코딩 방식을 사용하여 대부분의 문자 세트를 표현할 수 있게 되었다.
그러니 꼭 필요한 경우가 아니라면 유니코드를 사용하지 말아야하며, 사용할 경우 주석을 통해 왜 사용했고, 어떻게 인식되는지에 대한 상세한 설명이 꼭 필요하다.


[[ 소스코드 ]](https://github.com/bbubbush/java_puzzlers/blob/master/Part2_%EB%AC%B8%EC%9E%90%ED%8D%BC%EC%A6%90/java/EscapeRout.java)