# 9번째 퍼즐 - Tweedleum

```{.java}
x += i;

x = x + i;
```
많은 개발자가 위 두 줄의 코드가 동일하게 동작하며, 위의 코드가 아래 코드의 약어 정도로 생각한다. 나 역시 그랬고 글을 쓰는 시점에도 여전히 그렇다.

하지만 위의 코드는 복합 할당 연산자라고 하며, 아래 코드는 단순 할당 연산자라고 한다. 

복합 할당 연산자는 E1의 자료형이 T일 때, E1 op= E2가 E1 = (T)((E1)op(E2))와 같다고 정의한다. 이렇게 보면 햇갈리지만 E1의 자료형으로 캐스팅한다는 것만 기억하면 된다.

이제는 아래 코드를 통해 상황부여를 해서 이 설명의 이해를 쉽게 하겠다.
```{.java}
short x = 0;
int i = 123456;

x += i; 	// auto casting

x = x + i;	// non auto casting. don't complie this code.
```
이것이 이 둘의 차이점이다. x의 경우 short 타입이라 복합 할당 연산자를 사용할 경우 결과값이 short이 되어 데이터 손실이 발생한다. 매우 위험한 상황인 것이다.

만약 테스트중에 정상적인 범위 내에서 데이터가 처리되다 턴키테스트를 수행 중에 이런 문제가 발생하면 디버깅하기도 힘들 것이다.

따라서 **byte, short, char 타입의 변수에는 복합 할당 연산자를 사용하면 안 된다. 또한 int타입 역시 long이나 float, double 타입과 함께 사용된다면 조심해서 다뤄야한다.**

속 편한 것은 그냥 단순 할당 연산자를 사용하는 것이다. 


[[ 소스코드 ]](https://github.com/bbubbush/java_puzzlers/blob/master/Part1_%ED%91%9C%ED%98%84%EC%8B%9D%ED%8D%BC%EC%A6%90/java/Tweedleum.java)