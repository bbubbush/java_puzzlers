# 3번째 퍼즐 - Long 자료형 나눗셈

하루를 마이크로초로 나타낸 값을 밀리초로 나타낸 값으로 나누면 어떤 결과가 나올까?

```{.java}
public class LongDivision {
	public static void main(String args[]) {
		final long MICROS_PER_DAY = 24 * 60 * 60 * 1000 * 1000;
		final long MILLIS_PER_DAY = 24 * 60 * 60 * 1000;
		System.out.println(MICROS_PER_DAY / MILLIS_PER_DAY);
	}
}
```

해당 질문을 코드로 구현했다. 하루는 24시간, 한 시간은 60분, 1분은 60초를 기본으로 마이크로단위와 밀리단위를 맞추기 위해 조정했다.

그럼 모두가 생각한대로 답은 1000일까? 

그렇다....





면 이 문제가 퍼즐로 나오지 않았을 것이다. 위 코드는 5가 출력된다. 단순해 보이던 이 문제는 사실 자료형의 오버플로우라는 심오한 문제를 품고 있었다.

상수인 MICROS_PER_DAY는 long 타입이지만 값으로 정의되는 숫자들은 모두 int 타입이다. 
따라서 24 * 60 * 60 * 1000 * 1000 이 영역은 int 타입으로 연산되어 2147483647보다 커지면 오버플로우가 발생해 잘못된 값이 입력된다.

'변수의 자료형에 따라 오토캐스팅이 안되는거야?' 생각이 들겠지만 자바는 그렇다. 답답한 친구임이 틀림없다.
변수의 자료형에 따라 연산되는 값의 자료형을 맞춰주는 기능을 *타겟 타이핑*이라고 하고 자바는 타겟 타이핑을 지원하지 않는 답답한 친구라고 생각해도 좋다.

하지만 이런 답답한 면이 처음에는 불편하지만 거대한 프로그램을 만들 때, 디버깅 시 등 긍정적인 결과를 낳는 경우가 많기에 익숙해지도록 노력해야한다.

다시 코드로 돌아가 문제를 해결하자면 연산되는 값 중 가장 앞에있는 숫자에 'long 타입으로 연산해' 라는 의미로 L을 붙여준다.

아마 자바 기본서를 공부할 때에도 설명을 들었지만 long을 잘 사용안하게 되면서 잊게 되었던 부분일 것이다.

왜 L을 붙여야하는지에 대한 이유를 이 문제를 통해 이해가 되었기를 바란다.

[[ 소스코드 ]](https://github.com/bbubbush/java_puzzlers/blob/master/Part1_%ED%91%9C%ED%98%84%EC%8B%9D%ED%8D%BC%EC%A6%90/java/LongDivision.java)



