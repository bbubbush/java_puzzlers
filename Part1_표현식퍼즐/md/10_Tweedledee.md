# 10번째 퍼즐 - Tweedledee

```{.java}
x = x + i;

x += i;
```
이번에는 앞선 코드와 반대로 위의 코드는 컴파일이 안 되고, 아래코드는 컴파일이 되게 만드는 것이다. 이건 또 무슨소리인가 싶지만 결국은 데이터 타입문제라는 것을 알면 생각보다 쉽게 접근할 수 있다.

복합 할당 연산자가 단순 할당 연산자에 비해 유연하지만, 딱 한가지 경우에는 단순 할당 연산자가 더 유연하다. 바로 객체 자료형(더 좁은 의미로는 String 자료형)이다.

간단한 소스코드를 보면서 설명을 이어가겠다.
```{.java}
Object x = "Buy";
String i = "Effective Java!";

x = x + i;
x += i;
```
이렇게 소스를 보면 조금은 감이 온다. 우선 단순 할당 연산자는 별 무리없이 돌이갈 것 같다. 실제로도 그렇다. 반면 복할 할당 연산자의 경우는 이야기가 조금 다르다.
x가 참조 자료형이기 때문에 오류가 발생한다. 

실제로 이렇게 마주할 일은 없겠지만 문자열 결합 연산자와 합 연산을 하는 + 연산자의 이중적인 사용이 주는 편함만 생각하지 말고, 이로 인해 에러가 발생할 수 있다는 생각을 해야 한다.

p.s 실제로 작성한 코드는 책과는 다르게 정상적으로 동작되었다. 아마도 자바의 버전이 올라가면서 이러한 문제를 자동으로 잡아준 것 같다. 
하지만 아직도 낮은 버전의 자바로 개발된 프로그램이 많기 때문에 가볍게 보는 정도로 생각하면 좋겠다.


[[ 소스코드 ]](https://github.com/bbubbush/java_puzzlers/blob/master/Part1_%ED%91%9C%ED%98%84%EC%8B%9D%ED%8D%BC%EC%A6%90/java/Tweedledee.java)